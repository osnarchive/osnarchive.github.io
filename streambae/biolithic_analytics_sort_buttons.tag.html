<biolithic_analytics_sort_buttons>

<div class="sixteen wide column">
<div class="ui top attached segment">
  <button onclick={add_handler}>Multiple Mode
  </button>
  <button class="rank" onclick={all_handler}>Rank All Videos
  </button>
  <button class="rank" onclick={average_handler}>Rank All Playlists By Video Average
  </button>
</div>
</div>
<script>
/*this.videos = [];
this.avgs = [];
this.viewAvg = "";
this.likeAvg = "";
this.dislikeAvg = "";
this.commentAvg = "";
this.on('mount', function(){
  });

this.on('update', function() {
  }.bind(this));

this.on('updated', function() {

  }.bind(this));

var self = this;

  add_handler(e) {
    var clicked_element = e.target; $(clicked_element).toggleClass("h");
    if (window.biolithicAnalyticsMode == "multiple") { window.biolithicAnalyticsMode = "single"; } else { window.biolithicAnalyticsMode = "multiple"; }
  }

    all_handler(e){
      var clicked_element = e.target; $("li, button.rank").removeClass("h"); $(clicked_element).addClass("h");
      self.avgs = []; self.viewAvg = ""; self.likeAvg = ""; self.dislikeAvg = ""; self.commentAvg = ""; var results = []; self.videos = [];
        for (i = 0; i < window.localStorage.length; i++) {
          key = window.localStorage.key(i);
          if (key.slice(0,2) === "PL") {
            results.push(JSON.parse(window.localStorage.getItem(key)));
          }
        }

      var bigresults = [];
      var resultslength = results.length;
      for (i = 0; i < resultslength; i++) {
        var cresults = results[i];
        var cresultslength = cresults.length;
        for (z = 0; z < cresultslength; z++) { bigresults.push(cresults[z]); } }
        window.biolithicAnalyticsVideos = [];
        window.biolithicAnalyticsVideos = bigresults; riot.update(); }


    average_handler(e){
    var clicked_element = e.target; $("li, button.rank").removeClass("h"); $(clicked_element).addClass("h");

    self.videos = []; self.avgs = []; self.viewAvg = ""; self.likeAvg = ""; self.dislikeAvg = ""; self.commentAvg = "";
    var results = []; var all_playlists = [];
        for (i = 0; i < window.localStorage.length; i++) {
          key = window.localStorage.key(i);
          if (key.slice(0,2) === "PL") {
            results.push(JSON.parse(window.localStorage.getItem(key)));
          }
        }
        //results =  a group of each playlist has videos inside of it
        var resultslength = results.length;
        for (i = 0; i < resultslength; i++) {
          var cresults = results[i];
          var cresultslength = cresults.length;
          var obj = {};
          var totalcommentCount = 0;
          var totaldislikeCount = 0;
          var totallikeCount = 0;
          var totalviewCount = 0;
          obj.thumbnails = cresults[0].thumbnails;
          obj.playlist = cresults[0].playlist;

          for (z = 0; z < cresultslength; z++) {
            totalcommentCount = parseInt(totalcommentCount,10) + parseInt(cresults[z].commentCount,10);
            totaldislikeCount = parseInt(totaldislikeCount,10) + parseInt(cresults[z].dislikeCount,10);
            totallikeCount = parseInt(totallikeCount,10) + parseInt(cresults[z].likeCount,10);
            totalviewCount = parseInt(totalviewCount,10) + parseInt(cresults[z].viewCount,10);
          }
         var commentAvg = Math.ceil(totalcommentCount / cresultslength);
         var dislikeAvg = Math.floor(totaldislikeCount / cresultslength);
         var likeAvg = Math.ceil(totallikeCount / cresultslength);
         var viewAvg = Math.ceil(totalviewCount / cresultslength);
         obj.commentAvg = commentAvg;
         obj.dislikeAvg = dislikeAvg;
         obj.likeAvg = likeAvg;
         obj.viewAvg = viewAvg;
         all_playlists.push(obj);
         }
          window.biolithicAnalyticsAvgs = all_playlists;
          riot.update();
        }*/
</script>
</biolithic_analytics_sort_buttons>
